{% extends 'base.html.twig' %}

{% block verticallyCenter %}


	<div class="col-lg-4 col-md-8 col-sm-10 col-12">
		<div class="card">
			<div class="card-body rounded border border-primary">
				<h1 class="card-title mb-5 d-flex align-items-center">
					<ion-icon name="musical-notes-outline" class="mr-2"></ion-icon>
					<span>My bands</span>
				</h1>
				<div class="mb-2 d-flex justify-content-end align-items-center">
					<a class="mr-2" href="{{ path('bands_create') }}">
						Create a band
					</a>
				</div>
				<div>
					{% if user.bands|length == 0 %}
						<p>
							You don't have any band!
						</p>
					{% else %}
						<div class="form">
							<form name="member" method="post">
								<div class="input-group mb-3">
									<div class="input-group-prepend">

										<span class="input-group-text" id="inputGroup-sizing-default">
											<ion-icon name="search-outline"></ion-icon>
										</span>
									</div>
									<input type="text" class="form-control" aria-label="Default" aria-describedby="inputGroup-sizing-default" name="band_search" placeholder="Search" value="{{ search }}">
								</div>
							</form>
						</div>
						{% if bands|length == 0 %}
							<p>
								No bands matches with your request!
							</p>
						{% else %}


							<ul class="list-group">
								{% for band in bands %}
									<li onclick="location.href = '{{ path('bands_one', { band : band.id }) }}';" class="list-group-item d-flex justify-content-between align-items-center clickable-el">
										<span class="d-flex align-items-center">
											<ion-icon name="musical-note-outline" class="mr-3"></ion-icon>
											<span>
												{{ band.name|e }}
											</span>
										</span>
										<div class="left-button-container">
											<span class="px-3 py-2 badge badge-primary badge-pill">
												{{ band.members | length }}

												{% if 1 < band.members|length %}members
													{% else %}member
												{% endif %}
											</span>
											<span class="px-3 py-2 badge badge-info badge-pill">{{ band.songs | length }}
												{% if 1 < band.songs|length %}songs
													{% else %}song
												{% endif %}
											</span>
										</div>
									</li>
								{% endfor %}
							</ul>
						{% endif %}
					{% endif %}
				</div>

			</div>
		</div>
	</div>

{% endblock %}
